# ESYNYC Lesson Search v2 - Staging Environment TEMPLATE
# 
# ⚠️ This is a template for staging/pre-production configuration
# Copy to .env.staging.local and fill in actual values
# Assumes you have a separate staging infrastructure

# ==========================================
# CORE SERVICES (Staging Instances)
# ==========================================

# Supabase Staging Project (separate from production)
VITE_SUPABASE_URL=https://your-staging-project.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Algolia Staging Index (separate from production)
VITE_ALGOLIA_APP_ID=STAGING_APP_ID
VITE_ALGOLIA_SEARCH_API_KEY=staging_search_key_read_only

# ==========================================
# ERROR TRACKING
# ==========================================

# Sentry for Staging (same project, different environment)
VITE_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
VITE_SENTRY_ENVIRONMENT=staging
VITE_SENTRY_RELEASE=v2.1.0-rc.1

# ==========================================
# FEATURE FLAGS (Test New Features)
# ==========================================

# Staging Feature Configuration
VITE_ENABLE_DOC_EMBED=true
VITE_ENABLE_CSV_EXPORT=true
VITE_ENABLE_ANALYTICS=true
VITE_ENABLE_BETA_FEATURES=true
VITE_ENABLE_DEBUG_MODE=true
VITE_MAINTENANCE_MODE=false

# ==========================================
# EDGE FUNCTION SECRETS (Set in Supabase Dashboard)
# ==========================================

# Staging-specific secrets in Supabase Dashboard:
# - SUPABASE_SERVICE_ROLE_KEY (staging key)
# - OPENAI_API_KEY (can use same as prod or separate)
# - GOOGLE_SERVICE_ACCOUNT_JSON (staging service account)
# - RESEND_API_KEY (staging API key recommended)
# - PUBLIC_SITE_URL=https://staging.lessons.esynyc.org

# ==========================================
# TESTING CONFIGURATION
# ==========================================

# Enable test features
VITE_ENABLE_TEST_ACCOUNTS=true
VITE_ENABLE_MOCK_DATA=true
VITE_LOG_LEVEL=debug

# Test Data Seeds
VITE_TEST_USER_EMAIL=test@esynyc.org
VITE_TEST_ADMIN_EMAIL=admin-test@esynyc.org

# ==========================================
# DEPLOYMENT CONFIGURATION
# ==========================================

NODE_ENV=staging
VITE_BUILD_TIME=$BUILD_TIME
VITE_COMMIT_SHA=$COMMIT_SHA
VITE_BRANCH_NAME=$BRANCH_NAME

# Basic Auth for Staging (if needed)
STAGING_USERNAME=esynyc
STAGING_PASSWORD=secure_password_here

# ==========================================
# STAGING CHECKLIST
# ==========================================

# Before deploying to staging:
# [ ] Using staging API keys (not production)
# [ ] Staging database has test data
# [ ] Edge functions point to staging services
# [ ] Basic auth configured (if needed)
# [ ] Test accounts created
# [ ] Monitoring configured
# [ ] Staging subdomain configured
# [ ] SSL certificate valid

# ==========================================
# TESTING NOTES
# ==========================================

# Staging is used for:
# - Final testing before production
# - User acceptance testing (UAT)
# - Performance testing
# - Integration testing with real services
# - Training and demos

# Data in staging should be:
# - Representative of production
# - Anonymized/sanitized if copied from prod
# - Regularly refreshed
# - Safe to modify/delete